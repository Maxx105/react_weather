{"version":3,"sources":["components/Header/index.js","utils/API.js","Context/WeatherContext.js","components/ErrorMessage/index.js","components/Search/index.js","components/Weather/index.js","App.js","index.js"],"names":["Header","id","locationType","location","APIKey","axios","get","then","res","data","lat","lon","ip","WeatherContext","createContext","children","useState","weatherData","setWeatherData","forecastDailyWeatherData","setForecastDailyWeatherData","forecastHourlyWeatherData","setForecastHourlyWeatherData","uvi","setUvi","currentCity","setCurrentCity","currentLocationType","setCurrentLocationType","isLoaded","setIsLoaded","Provider","value","process","ErrorMessage","props","useEffect","error","document","getElementById","innerText","createErrorMsg","Search","setLocationType","setLocation","searchHistory","setSearchHistory","errMsg","setErrMsg","weatherContext","useContext","onLocationTypeChange","e","target","getWeather","API","coord","current","daily","hourly","catch","err","console","log","response","message","createSearchHistory","APICallURL","searchArray","push","APICall","localStorage","setItem","JSON","stringify","checked","parse","getItem","deleteSearchItem","splicedArray","splice","className","onClick","type","name","htmlFor","onChange","onLocationChange","placeholder","newSpan","createElement","newIcon","append","prepend","preventDefault","city","map","index","length","clear","Weather","uvIndex","temp","convertToFahrenheit","toFixed","convertDTtoDate","dt","Date","getMonth","getDate","getFullYear","sys","country","date","day","month","year","getCurrentDate","src","weather","icon","alt","description","main","humidity","wind","speed","hour","toLocaleTimeString","hour12","feels_like","pop","getDay","max","min","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.a0c3d47f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./style.css\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <h1 id=\"header\">Weather</h1>\r\n    );\r\n}\r\n\r\nexport default Header;","import axios from \"axios\";\r\n\r\nexport default {\r\n  getCurrentWeather: function(locationType, location, APIKey) {\r\n    return axios.get(`https://api.openweathermap.org/data/2.5/weather?${locationType}=${location}&appid=${APIKey}`)\r\n    .then(res => res.data);\r\n  },\r\n  getCurrentWeatherWithURL: function(url) {\r\n    return axios.get(url)\r\n    .then(res => res.data);\r\n  },\r\n  getOneCallData: function(lat, lon, APIKey) {\r\n    return axios.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=minutely&appid=${APIKey}`)\r\n    .then(res => res.data);\r\n  },\r\n  getZipbyLocation: function (ip) {\r\n    return axios.get(\"https://freegeoip.app/json/\" + ip)\r\n    .then(res => res.data);\r\n  },\r\n  getMyIP: function () {\r\n    return axios.get(\"https://api.ipify.org/?format=json\")\r\n    .then(res => res.data);\r\n  }\r\n};","import React, { createContext, useState } from \"react\";\r\n\r\nexport const WeatherContext = createContext();\r\n\r\nexport default ({ children }) => {\r\n  const [weatherData, setWeatherData] = useState([]);\r\n  const [forecastDailyWeatherData, setForecastDailyWeatherData] = useState([]);\r\n  const [forecastHourlyWeatherData, setForecastHourlyWeatherData] = useState([]);\r\n  const [uvi, setUvi] = useState('');\r\n  const [currentCity, setCurrentCity] = useState('');\r\n  const [currentLocationType, setCurrentLocationType] = useState('');\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  let APIKey = process.env.REACT_APP_APIKey;\r\n\r\n  return (\r\n    <div>\r\n        <WeatherContext.Provider value={{\r\n            weatherData,\r\n            setWeatherData,\r\n            uvi,\r\n            setUvi,\r\n            forecastDailyWeatherData,\r\n            setForecastDailyWeatherData,\r\n            forecastHourlyWeatherData,\r\n            setForecastHourlyWeatherData,\r\n            currentCity, \r\n            setCurrentCity,\r\n            currentLocationType, \r\n            setCurrentLocationType,\r\n            isLoaded,\r\n            setIsLoaded,\r\n            APIKey\r\n        }}>\r\n          {children}\r\n        </WeatherContext.Provider>\r\n\r\n  </div>\r\n  );\r\n};","import React, {useEffect} from \"react\";\r\nimport \"./style.css\";\r\n\r\nfunction ErrorMessage(props) {\r\n    useEffect(() => {\r\n        errorMessage();\r\n    }, [props.error]);\r\n\r\n    function errorMessage() {\r\n        if (props.error) {\r\n            document.getElementById('error').innerText = props.error;\r\n            props.createErrorMsg();\r\n        } else document.getElementById('error').innerText = \"\"\r\n    }\r\n\r\n    return (\r\n        <p id=\"error\"></p>\r\n    );\r\n}\r\n\r\nexport default ErrorMessage;","import React, {useState, useEffect, useContext} from \"react\";\r\nimport API from \"../../utils/API\";\r\nimport { WeatherContext } from \"../../Context/WeatherContext\";\r\nimport ErrorMessage from \"../ErrorMessage\";\r\nimport \"./style.css\";\r\n\r\nfunction Search() {\r\n    const [locationType, setLocationType] = useState(\"\");\r\n    const [location, setLocation] = useState(\"\");\r\n    const [searchHistory, setSearchHistory] = useState([]);\r\n    const [errMsg, setErrMsg] = useState('');\r\n\r\n    const weatherContext = useContext(WeatherContext);\r\n\r\n    useEffect(() => {\r\n        setInitialLocalStorageArray();\r\n    }, []);\r\n\r\n    function onLocationTypeChange(e) {\r\n        setLocationType(e.target.id);\r\n    }\r\n\r\n    function onLocationChange(e) {\r\n        setLocation(e.target.value);\r\n    }\r\n\r\n    function getWeather(locationType, location, APIKey) {\r\n        setErrMsg(\"\");\r\n        API.getCurrentWeather(locationType, location, APIKey)\r\n            .then(res => {\r\n                document.getElementById('location').value = \"\";\r\n                setLocation(\"\");\r\n                weatherContext.setWeatherData(res);\r\n                weatherContext.setIsLoaded(true);\r\n                API.getOneCallData(res.coord.lat, res.coord.lon, weatherContext.APIKey)\r\n                    .then(res => {\r\n                        weatherContext.setUvi(res.current.uvi);\r\n                        weatherContext.setForecastDailyWeatherData(res.daily);\r\n                        weatherContext.setForecastHourlyWeatherData(res.hourly);\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            })\r\n            .catch(err => {\r\n                if (err.response) {\r\n                    setErrMsg(` ${err.response.data.message}`)\r\n                    document.getElementById('location').value = \"\";\r\n                }\r\n            })\r\n    }\r\n\r\n    function loadWeather() {\r\n        if (document.getElementById('zip').checked === false && document.getElementById('q').checked === false) {\r\n            setErrMsg(\" Please select a location type\");\r\n        } else if (document.getElementById('location').value === \"\") {\r\n            setErrMsg(\" Please enter a location\");\r\n        } else {\r\n            setErrMsg(\"\");\r\n            createSearchHistory(`https://api.openweathermap.org/data/2.5/weather?${locationType}=${location}&appid=${weatherContext.APIKey}`, location, locationType);\r\n            getWeather(locationType, location, weatherContext.APIKey);\r\n        }\r\n    }\r\n\r\n    function setInitialLocalStorageArray() {\r\n        if (JSON.parse(localStorage.getItem('ms_react_weather_search')) === null) {\r\n            setSearchHistory([]);\r\n        } else {\r\n            setSearchHistory(JSON.parse(localStorage.getItem('ms_react_weather_search')));\r\n        };\r\n    }\r\n\r\n    function createSearchHistory(APICallURL, location, locationType) {\r\n        document.getElementById('error').innerText = \"\";\r\n        let searchArray = searchHistory;\r\n        searchArray.push({location: location, locationType: locationType, APICall: APICallURL});\r\n        localStorage.setItem('currentCity', location);\r\n        localStorage.setItem('ms_react_weather_search', JSON.stringify(searchArray));\r\n        setLocalStorageLocationType();\r\n        setSearchHistory(JSON.parse(localStorage.getItem('ms_react_weather_search')));\r\n        weatherContext.setCurrentCity(localStorage.getItem('currentCity'));\r\n        weatherContext.setCurrentLocationType(localStorage.getItem('currentLocationType'));\r\n    }\r\n\r\n    function setLocalStorageLocationType() {\r\n        if (document.getElementById('zip').checked === true) {\r\n            localStorage.setItem('currentLocationType', 'zip');\r\n        } else localStorage.setItem('currentLocationType', 'q');\r\n    }\r\n\r\n    function createErrorMessage() {\r\n        const newSpan = document.createElement(\"span\");\r\n        const newIcon = document.createElement(\"i\");\r\n        newIcon.className = \"fas fa-exclamation-triangle\";\r\n        newSpan.append(newIcon);\r\n        document.getElementById('error').prepend(newSpan);\r\n    }\r\n\r\n    function clearSearchHistory(e) {\r\n        localStorage.clear();\r\n        setSearchHistory([]);\r\n    }\r\n\r\n    function deleteSearchItem(e) {\r\n        let splicedArray = searchHistory;\r\n        splicedArray.splice(e.target.id, 1);\r\n        localStorage.setItem('ms_react_weather_search', JSON.stringify(splicedArray));\r\n        setSearchHistory(JSON.parse(localStorage.getItem('ms_react_weather_search')));\r\n    }\r\n\r\n    function getWeatherForMyLocation(e) {\r\n        e.preventDefault();\r\n        API.getMyIP()\r\n        .then(res => {\r\n            API.getZipbyLocation(res.ip)\r\n                .then (res => {\r\n                    setErrMsg(\"\");\r\n                    createSearchHistory(`https://api.openweathermap.org/data/2.5/weather?q=${res.city}&appid=${weatherContext.APIKey}`, res.city, 'q');\r\n                    getWeather('q', res.city, weatherContext.APIKey);\r\n            })\r\n\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"searchArea\">\r\n            <form id=\"search-form\">\r\n                <div className=\"form-check\">\r\n                    <input onClick={e => onLocationTypeChange(e)} className=\"form-check-input\" type=\"radio\" name=\"flexRadioDefault\" id=\"zip\" />\r\n                    <label className=\"form-check-label\" htmlFor=\"zip\">\r\n                        Zip\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-check\">\r\n                    <input onClick={e => onLocationTypeChange(e)} className=\"form-check-input\" type=\"radio\" name=\"flexRadioDefault\" id=\"q\"/>\r\n                    <label className=\"form-check-label\" htmlFor=\"city\">\r\n                        City Name\r\n                    </label>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <input onChange={e => onLocationChange(e)} type=\"text\" className=\"form-control\" placeholder=\"Enter City Here\" id=\"location\"/>\r\n                    <button onClick = {loadWeather} className=\"btn btn-primary\" type=\"button\">Search</button>\r\n                </div>\r\n                <ErrorMessage\r\n                    error = {errMsg}\r\n                    location = {location}\r\n                    locationType = {locationType}\r\n                    // createSearchHistory = {createSearchHistory(`https://api.openweathermap.org/data/2.5/weather?${locationType}=${location}&appid=${weatherContext.APIKey}`, location, locationType)}\r\n                    APIKey = {weatherContext.APIKey}\r\n                    createErrorMsg = {createErrorMessage}\r\n                    setErrMsg = {setErrMsg}\r\n                ></ErrorMessage>\r\n                {/* <p id=\"error\"></p> */}\r\n                <div className=\"d-grid gap-2\">\r\n                    <button onClick={getWeatherForMyLocation} className=\"btn btn-dark\">Search My Location</button>\r\n                </div>\r\n            </form>\r\n            <br/>\r\n            <ul className=\"list-group\">\r\n                {searchHistory.map((location, index) => (\r\n                    <li onClick = {() => getWeather(location.locationType, location.location, weatherContext.APIKey)} className=\"list-group-item d-flex justify-content-between align-items-center\" id=\"searches\" key={index}>\r\n                        {location.location}\r\n                        <button onClick = {deleteSearchItem} className=\"btn btn-dark rounded-pill\" id={index}>X</button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            {searchHistory.length !== 0 ? (\r\n                <div className=\"d-grid gap-2\">\r\n                    <button onClick={clearSearchHistory} className=\"btn btn-danger\" type=\"button\" id=\"delete-history\">Clear History</button>\r\n                </div>\r\n            ) : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Search;","import React, { useContext } from \"react\";\r\nimport { WeatherContext } from \"../../Context/WeatherContext\";\r\nimport \"./style.css\";\r\n\r\nfunction Weather() {\r\n    const weatherContext = useContext(WeatherContext);\r\n\r\n    function getCurrentDate() {\r\n        var date = new Date();\r\n        var day = date.getDate();\r\n        var month = date.getMonth();\r\n        var year = date.getFullYear();\r\n        return (`${month+1}/${day}/${year}`);\r\n    }\r\n\r\n    function convertToFahrenheit(temp) {\r\n        return ((((temp - 273.15)*9)/5)+32).toFixed(1)\r\n    }\r\n\r\n    function getTempIcon(temp) {\r\n        if (temp <= 30) {\r\n            return \"thermometer-empty\";\r\n        } else if (temp > 30 && temp <= 55) {\r\n            return \"thermometer-quarter\";\r\n        } else if (temp > 55 && temp <= 70) {\r\n            return \"thermometer-half\";\r\n        } else if (temp > 70 && temp <= 85) {\r\n            return \"thermometer-three-quarters\";\r\n        } else if (temp > 85 ) {\r\n            return \"thermometer-full\";\r\n        }\r\n    }\r\n\r\n    function setUVColor(uvIndex) {\r\n        if (uvIndex <= 2) {\r\n            return 'success';\r\n        } else if (uvIndex > 2 && uvIndex <=5) {\r\n            return 'warning';\r\n        } else if (uvIndex > 5 && uvIndex <=8) {\r\n            return 'danger';\r\n        } else if (uvIndex > 8) {\r\n            return 'purple';\r\n        }\r\n    }\r\n\r\n    function convertDTtoDate(dt) {\r\n        return (new Date(dt*1000).getMonth() + 1) + \"/\" + (new Date(dt*1000).getDate()) + \"/\" + (new Date(dt*1000).getFullYear())\r\n    }\r\n\r\n    function convertDTtoDay(dt) {\r\n        let days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n        return days[new Date(dt*1000).getDay()];\r\n    }\r\n\r\n    function convertDTtoTime(dt) {\r\n        return new Date(dt*1000).toLocaleTimeString('en-US', { hour: 'numeric', hour12: true });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {weatherContext.isLoaded ? (\r\n                <div className = \"weather-info\">\r\n                    <div>\r\n                        <h1 id=\"city-name\">{weatherContext.weatherData.name}, {weatherContext.weatherData.sys.country} ({getCurrentDate()})\r\n                        <img id=\"icon\" src={`https://openweathermap.org/img/wn/${weatherContext.weatherData.weather[0].icon}@2x.png`} alt = {weatherContext.weatherData.weather[0].description}></img>\r\n                        </h1>\r\n                    </div>\r\n                    <h4><strong>Temperature <i className={`fas fa-${getTempIcon(convertToFahrenheit(weatherContext.weatherData.main.temp))}`}></i></strong> {convertToFahrenheit(weatherContext.weatherData.main.temp)}°F</h4>\r\n                    <h4><strong>Humidity <i className=\"fas fa-humidity\"></i></strong> {weatherContext.weatherData.main.humidity}%</h4>\r\n                    <h4><strong>Wind Speed <i className=\"fas fa-wind\"></i></strong> {weatherContext.weatherData.wind.speed} mph</h4>\r\n                    <h4><strong>UV Index <i className=\"fas fa-sun\"></i></strong><span id=\"uv-index\" className={`badge rounded-pill bg-${setUVColor(weatherContext.uvi)}`}>{weatherContext.uvi}</span></h4>\r\n                    <hr/>\r\n                    <div className = \"scrolling-wrapper\">\r\n                        {weatherContext.forecastHourlyWeatherData.map((hour, index) => (\r\n                            <div className = \"card\" key={index}>\r\n                                <div className = \"card-body\">\r\n                                    <div><h5 className = \"card-text\"><strong>{convertDTtoTime(hour.dt)}</strong></h5></div>\r\n                                    {/* <div><h6 className = \"card-text\">{convertDTtoDate(day.dt)}</h6></div> */}\r\n                                    <div><img className=\"card-img-top\" id=\"icon\" src={`https://openweathermap.org/img/wn/${hour.weather[0].icon}@2x.png`} alt = {hour.weather[0].description}></img></div>\r\n                                    <div><p className = \"card-text\">Temperature: {convertToFahrenheit(hour.temp)} °F</p></div>\r\n                                    <div><p className = \"card-text\">Feels Like: {convertToFahrenheit(hour.feels_like)} °F</p></div>\r\n                                    <div><p className = \"card-text\">Humidity: {hour.humidity}%</p></div>\r\n                                    <div><p className = \"card-text\">Chance of Precipitation: {(hour.pop*100).toFixed(0)}%</p></div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <hr/>\r\n                    <div className = \"scrolling-wrapper\">\r\n                        {weatherContext.forecastDailyWeatherData.map((day, index) => (\r\n                            <div className = \"card\" key={index}>\r\n                                <div className = \"card-body\">\r\n                                    <div><h5 className = \"card-text\"><strong>{convertDTtoDay(day.dt)}</strong></h5></div>\r\n                                    <div><h6 className = \"card-text\">{convertDTtoDate(day.dt)}</h6></div>\r\n                                    <div><img className=\"card-img-top\" id=\"icon\" src={`https://openweathermap.org/img/wn/${day.weather[0].icon}@2x.png`} alt = {day.weather[0].description}></img></div>\r\n                                    <div><p className = \"card-text\">H: {convertToFahrenheit(day.temp.max)} °F</p></div>\r\n                                    <div><p className = \"card-text\">L: {convertToFahrenheit(day.temp.min)} °F</p></div>\r\n                                    <div><p className = \"card-text\">Humidity: {day.humidity}%</p></div>\r\n                                    <div><p className = \"card-text\">Chance of Precipitation: {(day.pop*100).toFixed(0)}%</p></div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )\r\n            : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Weather;\r\n","import React from 'react';\nimport './App.css';\nimport Header from \"./components/Header\";\nimport Search from \"./components/Search\";\nimport Weather from \"./components/Weather\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <div className=\"row\">\n        <div className=\"col-lg-4 col-md-12\">\n          <Search/>\n        </div>\n        <br/>\n        <div className=\"col-lg-8 col-md-12\">\n          <Weather/>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport WeatherProvider from \"./Context/WeatherContext\";\nimport './index.css';\n\nReactDOM.render(\n  <WeatherProvider>\n    <App/>\n  </WeatherProvider>, \n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}