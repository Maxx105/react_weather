(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(15),r=c.n(n),i=(c(20),c(21),c(0));var s=function(){return Object(i.jsx)("h1",{id:"header",children:"Weather"})},o=c(3),l=c(4),d=c.n(l),j=function(e,t,c){return d.a.get("https://api.openweathermap.org/data/2.5/weather?".concat(e,"=").concat(t,"&appid=").concat(c)).then((function(e){return e.data}))},h=function(e,t,c){return d.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=minutely&appid=").concat(c)).then((function(e){return e.data}))},u=function(e){return d.a.get("https://freegeoip.app/json/"+e).then((function(e){return e.data}))},m=function(){return d.a.get("https://api.ipify.org/?format=json").then((function(e){return e.data}))},b=Object(a.createContext)(),p=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(o.a)(c,2),r=n[0],s=n[1],l=Object(a.useState)([]),d=Object(o.a)(l,2),j=d[0],h=d[1],u=Object(a.useState)([]),m=Object(o.a)(u,2),p=m[0],x=m[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),f=g[0],y=g[1],v=Object(a.useState)(""),N=Object(o.a)(v,2),w=N[0],D=N[1],S=Object(a.useState)(""),I=Object(o.a)(S,2),C=I[0],k=I[1],F=Object(a.useState)(!1),T=Object(o.a)(F,2),E=T[0],L=T[1];return Object(i.jsx)("div",{children:Object(i.jsx)(b.Provider,{value:{weatherData:r,setWeatherData:s,uvi:f,setUvi:y,forecastDailyWeatherData:j,setForecastDailyWeatherData:h,forecastHourlyWeatherData:p,setForecastHourlyWeatherData:x,currentCity:w,setCurrentCity:D,currentLocationType:C,setCurrentLocationType:k,isLoaded:E,setIsLoaded:L,APIKey:"3e198aed3ed933b951a2da906f5d01db"},children:t})})};c(42);var x=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],d=s[1],p=Object(a.useState)([]),x=Object(o.a)(p,2),O=x[0],g=x[1],f=Object(a.useContext)(b);function y(e){n(e.target.id)}function v(e,t,c){j(e,t,c).then((function(e){document.getElementById("location").value="",d(""),f.setWeatherData(e),f.setIsLoaded(!0),h(e.coord.lat,e.coord.lon,f.APIKey).then((function(e){console.log(e),f.setUvi(e.current.uvi),f.setForecastDailyWeatherData(e.daily),f.setForecastHourlyWeatherData(e.hourly)})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e)}))}function N(e,t,c){document.getElementById("error").innerText="";var a=O;a.push({location:t,locationType:c,APICall:e}),localStorage.setItem("currentCity",t),localStorage.setItem("search",JSON.stringify(a)),!0===document.getElementById("zip").checked?localStorage.setItem("currentLocationType","zip"):localStorage.setItem("currentLocationType","q"),g(JSON.parse(localStorage.getItem("search"))),f.setCurrentCity(localStorage.getItem("currentCity")),f.setCurrentLocationType(localStorage.getItem("currentLocationType"))}function w(){var e=document.createElement("span"),t=document.createElement("i");t.className="fas fa-exclamation-triangle",e.append(t),document.getElementById("error").prepend(e)}function D(e){var t=O;t.splice(e.target.id,1),localStorage.setItem("search",JSON.stringify(t)),g(JSON.parse(localStorage.getItem("search")))}return Object(a.useEffect)((function(){null===JSON.parse(localStorage.getItem("search"))?g([]):g(JSON.parse(localStorage.getItem("search")))}),[]),Object(i.jsxs)("div",{className:"searchArea",children:[Object(i.jsxs)("form",{id:"search-form",children:[Object(i.jsxs)("div",{className:"form-check",children:[Object(i.jsx)("input",{onClick:function(e){return y(e)},className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"zip"}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"zip",children:"Zip"})]}),Object(i.jsxs)("div",{className:"form-check",children:[Object(i.jsx)("input",{onClick:function(e){return y(e)},className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"q"}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"city",children:"City Name"})]}),Object(i.jsxs)("div",{className:"input-group mb-3",children:[Object(i.jsx)("input",{onChange:function(e){return function(e){d(e.target.value)}(e)},type:"text",className:"form-control",placeholder:"Enter City Here",id:"location"}),Object(i.jsx)("button",{onClick:function(){!1===document.getElementById("zip").checked&&!1===document.getElementById("q").checked?(document.getElementById("error").innerText=" Please select a location type",w()):""===document.getElementById("location").value?(document.getElementById("error").innerText=" Please enter a location",w()):(document.getElementById("error").innerText="",N("https://api.openweathermap.org/data/2.5/weather?".concat(c,"=").concat(l,"&appid=").concat(f.APIKey),document.getElementById("location").value,c),v(c,l,f.APIKey))},className:"btn btn-primary",type:"button",children:"Search"})]}),Object(i.jsx)("p",{id:"error"}),Object(i.jsx)("div",{className:"d-grid gap-2",children:Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),m().then((function(e){u(e.ip).then((function(e){N("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.city,"&appid=").concat(f.APIKey),e.city,"q"),v("q",e.city,f.APIKey)}))}))},className:"btn btn-dark",children:"Search My Location"})})]}),Object(i.jsx)("br",{}),Object(i.jsx)("ul",{className:"list-group",children:O.map((function(e,t){return Object(i.jsxs)("li",{onClick:function(){return v(e.locationType,e.location,f.APIKey)},className:"list-group-item d-flex justify-content-between align-items-center",id:"searches",children:[e.location,Object(i.jsx)("button",{onClick:D,className:"btn btn-dark rounded-pill",id:t,children:"X"})]},t)}))}),0!==O.length?Object(i.jsx)("div",{className:"d-grid gap-2",children:Object(i.jsx)("button",{onClick:function(e){localStorage.clear(),g([])},className:"btn btn-danger",type:"button",id:"delete-history",children:"Clear History"})}):null]})};c(43);var O=function(){var e,t,c=Object(a.useContext)(b);function n(e){return(9*(e-273.15)/5+32).toFixed(1)}function r(e){return new Date(1e3*e).getMonth()+1+"/"+new Date(1e3*e).getDate()+"/"+new Date(1e3*e).getFullYear()}return Object(i.jsx)("div",{children:c.isLoaded?Object(i.jsxs)("div",{className:"weather-info",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{id:"city-name",children:[c.weatherData.name,", ",c.weatherData.sys.country," (",function(){var e=new Date,t=e.getDate(),c=e.getMonth(),a=e.getFullYear();return"".concat(c+1,"/").concat(t,"/").concat(a)}(),")",Object(i.jsx)("img",{id:"icon",src:"https://openweathermap.org/img/wn/".concat(c.weatherData.weather[0].icon,"@2x.png"),alt:c.weatherData.weather[0].description})]})}),Object(i.jsxs)("h4",{children:[Object(i.jsxs)("strong",{children:["Temperature ",Object(i.jsx)("i",{className:"fas fa-".concat((t=n(c.weatherData.main.temp),t<=30?"thermometer-empty":t>30&&t<=55?"thermometer-quarter":t>55&&t<=70?"thermometer-half":t>70&&t<=85?"thermometer-three-quarters":t>85?"thermometer-full":void 0))})]})," ",n(c.weatherData.main.temp),"\xb0F"]}),Object(i.jsxs)("h4",{children:[Object(i.jsxs)("strong",{children:["Humidity ",Object(i.jsx)("i",{className:"fas fa-humidity"})]})," ",c.weatherData.main.humidity,"%"]}),Object(i.jsxs)("h4",{children:[Object(i.jsxs)("strong",{children:["Wind Speed ",Object(i.jsx)("i",{className:"fas fa-wind"})]})," ",c.weatherData.wind.speed," mph"]}),Object(i.jsxs)("h4",{children:[Object(i.jsxs)("strong",{children:["UV Index ",Object(i.jsx)("i",{className:"fas fa-sun"})]}),Object(i.jsx)("span",{id:"uv-index",className:"badge rounded-pill bg-".concat((e=c.uvi,e<=2?"success":e>2&&e<=5?"warning":e>5&&e<=8?"danger":e>8?"purple":void 0)),children:c.uvi})]}),Object(i.jsx)("hr",{}),Object(i.jsx)("div",{className:"scrolling-wrapper",children:c.forecastHourlyWeatherData.map((function(e,t){return Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("div",{children:Object(i.jsx)("h5",{className:"card-text",children:Object(i.jsx)("strong",{children:(c=e.dt,new Date(1e3*c).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0}))})})}),Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:"card-img-top",id:"icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:e.weather[0].description})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["Temperature: ",n(e.temp)," \xb0F"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["Feels Like: ",n(e.feels_like)," \xb0F"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["Humidity: ",e.humidity,"%"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["Chance of Precipitation: ",(100*e.pop).toFixed(0),"%"]})})]})},t);var c}))}),Object(i.jsx)("hr",{}),Object(i.jsx)("div",{className:"scrolling-wrapper",children:c.forecastDailyWeatherData.map((function(e,t){return Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("div",{children:Object(i.jsx)("h5",{className:"card-text",children:Object(i.jsx)("strong",{children:(c=e.dt,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*c).getDay()])})})}),Object(i.jsx)("div",{children:Object(i.jsx)("h6",{className:"card-text",children:r(e.dt)})}),Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:"card-img-top",id:"icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:e.weather[0].description})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["H: ",n(e.temp.max)," \xb0F"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["L: ",n(e.temp.min)," \xb0F"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["Humidity: ",e.humidity,"%"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"card-text",children:["Chance of Precipitation: ",(100*e.pop).toFixed(0),"%"]})})]})},t);var c}))})]}):null})};var g=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(s,{}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-lg-4 col-md-12",children:Object(i.jsx)(x,{})}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"col-lg-8 col-md-12",children:Object(i.jsx)(O,{})})]})]})};c(44);r.a.render(Object(i.jsx)(p,{children:Object(i.jsx)(g,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d1699516.chunk.js.map